# Cloud_MalwareAPI_IP-IDS/IPS

## 개발 동기

 사이버 위협에 대응하기 위해서 비교적 기존의 보안체계가 잘 이루어진 대기업과는 달리 중소기업이나 규모가 작은 기관에는 여전히 보안에 사용되는 비용이 적어 해킹 시도로부터 위협을 받고 있을 뿐만 아니라 주요 정보기관을 거쳐 악성 IP와 악성 행위에 관련된 정보를 제공받는 시간적인 측면도 보완하고자, 조금 더 비용적인 측면에서도 효율적이고 합리적인 클라우드 기반의 실시간 악성 IP 침입 차단 시스템을 제안한다.
 
 ---
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/ea4ca35f-e42c-4de5-9b6e-9eabdbebd789)


## 구성도
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/aca84b1f-a1a9-4827-9dd3-aa279742222c)
---
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/b3c742db-3a1e-47cf-96dd-c13f9bb90c36)

---
## 보안지표
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/58a0f902-fced-4dae-a1f1-d019d01a6f8f)

---
# 구현
### EC2 설정 및 VS-Code 연결
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/59c179ae-5c07-4b51-af0d-f1b42c6b863d)

![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/d624b54b-2222-4d4e-bc19-0b4736cbeee5)

### access.log 확인
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/f03640f9-822f-41ec-a18a-bdfc920255ba)

EC2 Instance 생성 후 보안 그룹에 가서 Inbound rule을 적용하여 웹 서버 구축 및 SSH와 MySQL을 위한 포트를 설정해 놓습니다. 
Vscode에서 config를 설정 및 RemoteSSH를 설치하여 ec2 서버와 연결, malware.com API와도 연결합니다.
로그에 기록된 IP를 Malware.com API을 통해 정상/악성을 탐지할 수 있습니다.

---
### MySQL 연동
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/bf65f3c5-d4fa-45d0-a17a-ceef3a0e50d8)

### 탐지
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/86efe84e-a269-4831-acf5-57edf56cbd56)

![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/57282af5-52e3-4683-851c-140336e316d6)

### 차단
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/bd867f45-8e74-44e9-8582-52cdf1b18702)

## 스케쥴링
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/7439d46b-db43-45cb-81bc-f254a000a9ea)

### 알림
![image](https://github.com/JeonSH-Francesco/Cloud_MalwareAPI_IP-IDS/assets/112309895/8acb3c28-78e1-43fb-ad19-f6acfa660acf)


Vscode와 연결된 ec2의 우분투 서버와 MySQL을 연결시킵니다.
Risk_score를 기준으로 50개 미만은 Low, 500개 미만은 Medium, 500개 이상은 High class로 위험 분류를 합니다.
실행이 되면 MySQL에서도 IP와 관련된 정보들이 쌓이고 이를 토대로 정상/악성 IP를 탐지할 수 있습니다.
보안지표를 바탕으로 분류된 IP에 대한 접근제어도 설정합니다
토큰을 발급받은 후 Slack 을 이용하여 알림 기능을 받을 수 있도록 해줍니다.

---
## R&R
권오준 - 전체적인 구현 및 설계
	( Vscode와 EC2 연결,
	로그에서 IP, JSON 배열 파싱 구현 작업,
	Malware API 연결, 
	MySQL 연동 및 작업,
	악성 IP 탐지, 분류, 접근제어 구현
	Retrying 예외처리작업,
	Slack 연동 작업)

전승호 - 전체적인 방향성 제공 및 구현 도움
	(AWS EC2, Malware.com API 활용)
	MySQL 연동 도움,
	악성 IP 분류, 접근제어 구현
	접근제어 정책 설정
	crontab 스케쥴링
	논문 작성(한국정보보호학회, 국방과 보안)

성하은 – 접근제어 정책 도움, ppt 도움,
	클라우드 협업 도구 Slack 작업
	Slack 알림 작업
	(코로나 이슈가 있었음.)
 </br>
 </br>
-> 처음 진행한 프로젝트 였지만, 서로 간의 배려와 협업으로 보안에 대한 안목도 넓어질 수 있었고, 성장할 수 있었음.
</br>
-> 한국정보보호학회에서 학부생 기준으로 괜찮다는 평을 받음.(세종대)
</br>
-> 국방과 보안 학술대회 : 우수상 수상
</br>
-> 보안 뉴스 : https://www.boannews.com/media/view.asp?idx=106554&page=1&kind=3

---
## 기대효과
1. 합리적인 보안 시스템 구축
2. IP 침입 탐지 및 차단
3. 장소에 구애 받지 않는 클라우드 기반의 서비스


